<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>UoM: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UoM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">UoM Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>When dealing with scientific data it is essential to know the units of measurement in order to <em>understand</em> and present the information correctly.Likewise, in order to do <em>computations</em> with scientific data it is essential that software is able to convert data into a common unit framework.</p>
<p>The <a class="el" href="namespace_geo_soft.html">GeoSoft</a> UoM library is a convenient, extensible front-end to the OSDU Unit of Measure database. It contains more than 250 different quantities and more than 2500 unit definitions. The API is simple, well documented and easy to use, and the library is trivial to embed in any scientific software system.</p>
<p>UoM is available for Java (<code>Uom.jar</code>) and .Net (<code>Uom.dll</code>). The library is lightweight (&lt; 0.1MB) and self-contained; It embeds the complete OSDU unit database and has no external dependencies.</p>
<h2>Programming examples</h2>
<p>The easiest way to get started with UoM is to explore the predefined Energistics quantities and units:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_geo_soft.html">GeoSoft</a>.<a class="code" href="namespace_geo_soft_1_1_uom.html">Uom</a>;</div><div class="line">:</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Get the unit manager singleton</span></div><div class="line"><span class="comment">//</span></div><div class="line">UnitManager unitManager = UnitManager.GetInstance();</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Get all pre-defined quantities and their units</span></div><div class="line"><span class="comment">//</span></div><div class="line">List&lt;Quantity&gt; quantities = uniteManager.GetQuantities();</div><div class="line"><span class="keywordflow">foreach</span> (Quantity quantity <span class="keywordflow">in</span> quantities) {</div><div class="line">  Console.WriteLine(<span class="stringliteral">&quot;Quantity: &quot;</span> + quantity.GetName() + <span class="stringliteral">&quot; - &quot;</span> + quantity.GetDescription();</div><div class="line">  <span class="keywordflow">foreach</span> (Unit unit <span class="keywordflow">in</span> quantity.GetUnits())</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;  Unit: &quot;</span> + unit.GetSymbol() + <span class="stringliteral">&quot; (&quot;</span> + unit.GetName() + <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line">}</div></div><!-- fragment --><p><br />
 </p>
<p><b>Unit conversion</b></p>
<p>Basic unit conversion is done through <code>UnitManager</code> using instances of <code>Unit</code> or the unit symbols directly:</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Convert between known units, using unit symbols directly</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">double</span> milesPerHour = 55.0;</div><div class="line"><span class="keywordtype">double</span> kilometersPerHour = unitManager.Convert(<span class="stringliteral">&quot;mi/h&quot;</span>, <span class="stringliteral">&quot;km/h&quot;</span>, milesPerHour);</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Conversion using Unit instances</span></div><div class="line"><span class="comment">//</span></div><div class="line">Unit feet = unitManager.FindUnit(<span class="stringliteral">&quot;ft&quot;</span>);</div><div class="line"></div><div class="line"><span class="keywordtype">double</span> lengthFt = 8981.0; <span class="comment">// Length of the Golden Gate bridge in feet</span></div><div class="line"></div><div class="line">Quantity quantity = unitManager.FindQuantity(<span class="stringliteral">&quot;length&quot;</span>);</div><div class="line"><span class="keywordflow">foreach</span> (Unit unit <span class="keywordflow">in</span> quantity.GetUnits()) {</div><div class="line">  <span class="keywordtype">double</span> length = unitManager.Convert(feet, unit, lengthFt);</div><div class="line">  Console.WriteLine(<span class="stringliteral">&quot;Golden Gate is &quot;</span> + length + <span class="stringliteral">&quot; &quot;</span> + unit.GetSymbol());</div><div class="line">}</div></div><!-- fragment --><p>Making a user interface units aware includes associating GUI components with quantities and then provide unit conversions, either per element or as overall preference settings.</p>
<p>It is essential that the application knows the initial unit of measure of the values involved. A common advice to reduce complexity and risk of errors is to keep the entire data model in <em>base</em> units (typically SI or similar) and convert in GUI only on users request. The associated units will then be <em>implied</em>, effectively making the entire business logic <em>unitless</em>. Conversions to and from base units can be performed directly on the <code>Unit</code> instances:</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Capture pressure display unit from GUI or preferences</span></div><div class="line"><span class="comment">//</span></div><div class="line">Unit displayUnit = ...;</div><div class="line"><span class="keywordtype">string</span> displaySymbol = displayUnit.getDisplaySymbol();</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Populate GUI element</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">double</span> pressure = ...; <span class="comment">// From business model, SI implied</span></div><div class="line">pressureText.SetText(displayUnit.FromBase(pressure) + <span class="stringliteral">&quot; [&quot;</span> + displaySymbol + <span class="stringliteral">&quot;]&quot;</span>);</div><div class="line"></div><div class="line">:</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Capture user input</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">double</span> value = pressureText.GetValue(); <span class="comment">// In user preferred unit</span></div><div class="line"><span class="keywordtype">double</span> pressure = displayUnit.ToBase(value); <span class="comment">// Converted to business model unit (SI)</span></div></div><!-- fragment --><p>It may make sense to provide unit conversion even if the quantity of a measure is unknown. In these cases it is possible to obtain the quantity, but it might be more convenient to get all convertible units directly:</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Given a unit, find the associated quantity</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">string</span> unitSymbol = <span class="stringliteral">&quot;degC&quot;</span>; <span class="comment">// Degrees Celsius</span></div><div class="line">Quantity quanitity = unitManager.FindQuantity(unitSymbol);</div><div class="line">IList&lt;Unit&gt; units = quantity.GetUnits(); <span class="comment">// All temperature units</span></div><div class="line"></div><div class="line">:</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Given a unit, find all convertible units</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">string</span> unitSymbol = <span class="stringliteral">&quot;degC&quot;</span>; <span class="comment">// Degrees Celsius</span></div><div class="line">IList&lt;Unit&gt; units = unitManager.FindConvertibleUnits(unitSymbol);</div></div><!-- fragment --><p><br />
 </p>
<p><b>Unit aliases</b></p>
<p>There is no universal accepted standard or convention for unit symbols, and to make the module more robust when dealing with units from various sources it is possible to add unit <em>aliases</em>. UoM uses the unit symbol defined by Energistics, but have added many aliases for common notations. In addition, client applications can supply their own:</p>
<div class="fragment"><div class="line">unitManager.AddUnitAlias(<span class="stringliteral">&quot;m/s^2&quot;</span>, <span class="stringliteral">&quot;m/s2&quot;</span>);</div><div class="line">unitManager.AddUnitAlias(<span class="stringliteral">&quot;inch&quot;</span>, <span class="stringliteral">&quot;in&quot;</span>);</div><div class="line">unitManager.AddUnitAlias(<span class="stringliteral">&quot;api&quot;</span>, <span class="stringliteral">&quot;gAPI&quot;</span>);</div><div class="line">unitManager.AddUnitAlias(<span class="stringliteral">&quot;deg&quot;</span>, <span class="stringliteral">&quot;dega&quot;</span>);</div><div class="line">:</div></div><!-- fragment --><p>The typical approach would be to read these from a properties file during startup.</p>
<p><br />
 </p>
<p><b>Display symbols</b></p>
<p>Unit symbols should be regarded as <em>IDs</em>, and clients should never expose these in a user interface. A GUI friendly <em>display symbol</em> may be obtained through the <code>Unit.GetDisplaySymbol()</code> method.</p>
<p>The table below indicates the connection between <em>unit name</em>, <em>unit symbol</em> and <em>display symbol</em>:</p>
<table class="doxtable">
<tr>
<th>&#160;Unit name&#160;<br />
 </th><th>&#160;Unit symbol&#160;<br />
 </th><th>&#160;Display symbol&#160;<br />
  </th></tr>
<tr>
<td>&#160;microseconds per foot </td><td>&#160;us/ft </td><td>&#160;&micro;s/ft  </td></tr>
<tr>
<td>&#160;ohm meter </td><td>&#160;ohmm </td><td>&#160;&Omega;&middot;m  </td></tr>
<tr>
<td>&#160;cubic centimeters </td><td>&#160;cm3 </td><td>&#160;cm<sup>3</sup>  </td></tr>
<tr>
<td>&#160;degrees Celcius </td><td>&#160;degC </td><td>&#160;&deg;C  </td></tr>
<tr>
<td>&#160;meter/second squared </td><td>&#160;m/s2 </td><td>&#160;m/s<sup>2</sup>  </td></tr>
<tr>
<td>&#160;etc. </td><td>&#160; </td><td>&#160;  </td></tr>
</table>
<p><br />
 </p>
<p><b>Extensibility</b></p>
<p>If the predefined set of quantities and units is not sufficient, a client may easily supply their own:</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Define &quot;computer storage&quot; quantity with associated units</span></div><div class="line"><span class="comment">//</span></div><div class="line">Quantity q = <span class="keyword">new</span> Quantity(<span class="stringliteral">&quot;computer storage&quot;</span>);</div><div class="line">q.AddUnit(<span class="keyword">new</span> Unit(<span class="stringliteral">&quot;byte&quot;</span>, <span class="stringliteral">&quot;byte&quot;</span>, 1.0, 0.0, 0.0, 1.0, <span class="stringliteral">&quot;byte&quot;</span>), <span class="keyword">true</span>);</div><div class="line">q.AddUnit(<span class="keyword">new</span> Unit(<span class="stringliteral">&quot;kilo byte&quot;</span>, <span class="stringliteral">&quot;kB&quot;</span>, 1.0e3, 0.0, 0.0, 1.0, <span class="stringliteral">&quot;kB&quot;</span>), <span class="keyword">false</span>);</div><div class="line">q.AddUnit(<span class="keyword">new</span> Unit(<span class="stringliteral">&quot;mega byte&quot;</span>, <span class="stringliteral">&quot;MB&quot;</span>, 1.0e6, 0.0, 0.0, 1.0, <span class="stringliteral">&quot;MB&quot;</span>), <span class="keyword">false</span>);</div><div class="line">q.AddUnit(<span class="keyword">new</span> Unit(<span class="stringliteral">&quot;giga byte&quot;</span>, <span class="stringliteral">&quot;GB&quot;</span>, 1.0e9, 0.0, 0.0, 1.0, <span class="stringliteral">&quot;GB&quot;</span>), <span class="keyword">false</span>);</div><div class="line">:</div><div class="line">unitManager.AddQuantity(q);</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Test the new units</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">long</span> nBytes = 1230000L;</div><div class="line"><span class="keywordtype">double</span> nMegaBytes = unitManager.Convert(<span class="stringliteral">&quot;byte&quot;</span>, <span class="stringliteral">&quot;MB&quot;</span>, nBytes); <span class="comment">// 1.23</span></div></div><!-- fragment --><p>It is also possible to add units to existing quantities:</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Add &quot;light year&quot; unit to the existing &quot;length&quot; quantity</span></div><div class="line"><span class="comment">//</span></div><div class="line">Quantity q = unitManager.FindQuantity(<span class="stringliteral">&quot;length&quot;</span>);</div><div class="line">q.AddUnit(<span class="keyword">new</span> Unit(<span class="stringliteral">&quot;light year&quot;</span>, <span class="stringliteral">&quot;ly&quot;</span>, 9.4607e15, 0.0, 0.0, 1.0), <span class="keyword">false</span>);</div></div><!-- fragment --><p> <br />
 <br />
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Oct 23 2024 18:32:42 for UoM by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
